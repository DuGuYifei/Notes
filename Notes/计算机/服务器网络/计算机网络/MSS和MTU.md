# MMS和MTU

在传输层。

## MSS
MMS 代表的是 Maximum Segment Size，即 TCP 协议中的最大报文段长度。它是指 TCP 协议中每个数据段的最大大小限制，通常是由双方协商得出。TCP 协议允许每个数据段的长度最长为 64KB，但是由于网络传输和接收时需要进行分片和重组，因此实际传输的数据段长度通常较小，一般在几千字节到几万字节之间。当一个 TCP 连接建立时，双方会协商一个最大报文段长度（MMS），以确定每个数据段的最大长度。

如果一个数据包大于MSS，就分段

## MTU

MTU 代表的是 Maximum Transmission Unit，即最大传输单元。它是指网络设备（如路由器）在传输数据时，所能通过的最大数据包长度。MTU 的大小取决于网络设备的硬件类型，如以太网、令牌环、FDDI 等。MTU 的大小也取决于网络设备所连接的网络类型，如以太网、令牌环、FDDI 等。

如果一个段大于MTU，就继续分片，一般来说不会。因为MTU一般都比MSS大，且一般`MSS=MTU-40Byte`，所以TCP分段后，到了IP层大概率就不会再分片了。
![](_attachments/old/2023-04-14-03-12-57.png)