# -fPIC

"-fPIC"是一个编译选项，它表示编译生成与位置无关的代码(Position-Independent Code)。

"-fPIC"选项通常用于编译动态链接库(Dynamic Linking)的代码，因为动态链接库需要在运行时加载并映射到进程的地址空间中。使用"-fPIC"编译选项编译的代码可以在不同的进程中共享，并且不需要重新编译，从而提高了程序的效率和灵活性。

需要注意的是，使用"-fPIC"选项可能会增加代码的运行时开销，因为它需要使用相对地址或全局偏移量来访问数据。因此，在性能要求较高的场景中，可能需要权衡使用该选项的利弊。

位置无关（Position-Independent）和位置相关（Position-Dependent）是指编译器生成的目标代码是否与其实际执行的位置相关。

位置相关的目标代码包含了绝对地址和指针，这些地址和指针都是与目标代码所在的位置相关的。这种目标代码在被加载到内存中运行时，需要通过重定位技术来将绝对地址转换为实际的地址，以确保代码能够正确地访问内存中的数据。通常，位置相关的代码主要用于生成静态链接库，它们的目标代码在编译时就被链接到可执行文件中，因此它们的运行时位置是确定的。

位置无关的目标代码不包含绝对地址和指针，它们的目标代码中只包含相对地址和偏移量。这种目标代码可以被加载到内存中的任何位置运行，并且不需要重定位操作。通常，位置无关的代码主要用于生成动态链接库，它们的目标代码在运行时被加载到内存中，并且可以被多个进程共享使用，因此它们的运行时位置是不确定的。