# map按行读取

在Hadoop的MapReduce框架中，map函数的输入是按行读取文本而不是按文件读取。具体来说，输入文本文件被分成多个数据块，并且每个数据块由一个map任务处理。每个map任务读取其分配的数据块并对其进行处理，其中每一行文本数据都被视为一个输入记录，并且作为map函数的输入参数传递给map函数。因此，map函数的输入是按行读取文本。

如果您有多个文本文件需要处理，则每个文件将被拆分为多个数据块，并为每个数据块启动一个单独的map任务。**这意味着每个map任务只能读取一个文本文件的一部分数据块，并且只处理该数据块中的行。**

在MapReduce框架中，数据块的大小由Hadoop配置参数指定，通常为64 MB。如果输入文件较小，则单个数据块可以包含整个文件。此时，只有一个map任务将被启动，读取整个文件，**并将每一行文本作为输入记录传递给map函数。**