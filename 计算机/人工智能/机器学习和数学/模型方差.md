# 模型方差

在机器学习中，估计模型的方差（或者说误差项的方差）通常是通过对数据拟合模型并计算残差（即真实值与预测值之间的差异）的平方和来完成的。在一个自回归模型中，这个过程通常包括以下步骤：

1. **模型拟合**：使用历史数据（在这个例子中是前900个样本）来估计模型参数（如 `φ1` 和 `φ2`）。

2. **残差计算**：计算每个时间点上的残差 `εt = Xt - Ŷt`，其中 `Ŷt` 是模型预测的值。

3. **方差估计**：估计残差的方差，通常通过计算残差平方的平均值，再减去自由度的校正（因为我们用数据来估计了参数）。

方差的估计公式通常是：

$$\hat{\sigma}^2 = \frac{\sum_{t=p+1}^{n} \epsilon_t^2}{n - p} $$

其中 `n` 是样本的总数，`p` 是模型的参数个数，这个例子中是2（因为有两个 `φ` 参数）。

最后，估计出来的 `σ` 是用来量化模型预测的不确定性的，并且在构建预测区间或进行假设检验时是非常重要的。在图中显示的预测方差可能指的是使用上述方法从最后100个样本的预测中计算出的预测误差的方差。

注意这里没有说样本方差，不然应该n-p-1。